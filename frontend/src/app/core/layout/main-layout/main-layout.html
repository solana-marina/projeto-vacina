<mat-toolbar class="toolbar">
  <button mat-icon-button class="menu-trigger" (click)="drawer.toggle()" aria-label="menu">
    <mat-icon>menu</mat-icon>
  </button>
  <div class="title-wrap">
    <span class="title">Vacina Escola</span>
    <span class="subtitle">Gestao da carteira vacinal escolar</span>
  </div>
  <span class="toolbar-spacer"></span>
  <div class="user" *ngIf="session">
    <div class="avatar">{{ getInitials(session.fullName) }}</div>
    <div class="user-meta">
      <strong>{{ session.fullName }}</strong>
      <span>{{ getRoleLabel(session.role) }}</span>
    </div>
  </div>
  <button mat-stroked-button class="logout-btn" (click)="logout()" data-testid="logout-button">Sair</button>
</mat-toolbar>

<mat-sidenav-container class="layout-container">
  <mat-sidenav #drawer mode="side" opened class="sidebar">
    <div class="menu-title">Menu principal</div>
    <a
      mat-button
      class="menu-link"
      *ngFor="let item of menuItems"
      [routerLink]="item.path"
      [class.active]="currentUrl.startsWith(item.path)"
      [style.display]="isVisible(item) ? 'flex' : 'none'"
    >
      <mat-icon>{{ item.icon }}</mat-icon>
      <span class="menu-label">{{ item.label }}</span>
      <span class="menu-dot"></span>
    </a>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="content-wrapper app-page">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
