<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (20251213.1925)
 -->
<!-- Title: ERD Pages: 1 -->
<svg width="919pt" height="1880pt"
 viewBox="0.00 0.00 919.00 1880.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(21.6 1858)">
<title>ERD</title>
<polygon fill="white" stroke="none" points="-21.6,21.6 -21.6,-1858 896.9,-1858 896.9,21.6 -21.6,21.6"/>
<text xml:space="preserve" text-anchor="middle" x="437.65" y="-1819.8" font-family="Arial" font-size="14.00">Projeto de Vacinacao contra o HPV &#45; Modelo de Dados</text>
<!-- school -->
<g id="node1" class="node">
<title>school</title>
<polygon fill="#0f172a" stroke="none" points="174.14,-973.8 174.14,-1000.6 375.62,-1000.6 375.62,-973.8 174.14,-973.8"/>
<text xml:space="preserve" text-anchor="start" x="233.64" y="-984" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">core_school</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-956.2" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-929.4" font-family="Arial" font-size="14.00">name</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-902.6" font-family="Arial" font-size="14.00">inep_code</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-875.8" font-family="Arial" font-size="14.00">address</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-849" font-family="Arial" font-size="14.00">territory_ref</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-822.2" font-family="Arial" font-size="14.00">created_at / updated_at</text>
<text xml:space="preserve" text-anchor="start" x="179.14" y="-795.4" font-family="Arial" font-size="14.00">created_by_id / updated_by_id</text>
<polygon fill="none" stroke="black" points="173.14,-785.2 173.14,-1001.6 376.62,-1001.6 376.62,-785.2 173.14,-785.2"/>
</g>
<!-- student -->
<g id="node2" class="node">
<title>student</title>
<polygon fill="#1d4ed8" stroke="none" points="161.69,-391.2 161.69,-418 388.07,-418 388.07,-391.2 161.69,-391.2"/>
<text xml:space="preserve" text-anchor="start" x="230.92" y="-401.4" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">core_student</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-373.6" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-346.8" font-family="Arial" font-size="14.00">FK school_id</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-320" font-family="Arial" font-size="14.00">full_name</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-293.2" font-family="Arial" font-size="14.00">birth_date</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-266.4" font-family="Arial" font-size="14.00">sex (F/M/NI)</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-239.6" font-family="Arial" font-size="14.00">guardian_name / guardian_contact</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-212.8" font-family="Arial" font-size="14.00">created_at / updated_at</text>
<text xml:space="preserve" text-anchor="start" x="166.69" y="-186" font-family="Arial" font-size="14.00">created_by_id / updated_by_id</text>
<polygon fill="none" stroke="black" points="160.69,-175.8 160.69,-419 389.07,-419 389.07,-175.8 160.69,-175.8"/>
</g>
<!-- school&#45;&gt;student -->
<g id="edge1" class="edge">
<title>school&#45;&gt;student</title>
<path fill="none" stroke="#1d4ed8" stroke-width="1.1" d="M376.52,-893.4C380.78,-893.4 383.3,-893.4 383.3,-893.4 383.3,-893.4 383.3,-427.39 383.3,-427.39"/>
<polygon fill="#1d4ed8" stroke="#1d4ed8" stroke-width="1.1" points="385.75,-427.39 383.3,-420.39 380.85,-427.39 385.75,-427.39"/>
<text xml:space="preserve" text-anchor="middle" x="114.19" y="-597.2" font-family="Times,serif" font-size="14.00" fill="#1d4ed8">1:N</text>
</g>
<!-- user -->
<g id="node3" class="node">
<title>user</title>
<polygon fill="#0b8f6c" stroke="none" points="172.64,-657.8 172.64,-684.6 377.12,-684.6 377.12,-657.8 172.64,-657.8"/>
<text xml:space="preserve" text-anchor="start" x="225.47" y="-668" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">accounts_user</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-640.2" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-613.4" font-family="Arial" font-size="14.00">email (unique)</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-586.6" font-family="Arial" font-size="14.00">full_name</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-559.8" font-family="Arial" font-size="14.00">role (ADMIN/ESCOLA/SAUDE)</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-533" font-family="Arial" font-size="14.00">FK school_id (nullable)</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-506.2" font-family="Arial" font-size="14.00">is_active / is_staff</text>
<text xml:space="preserve" text-anchor="start" x="177.64" y="-479.4" font-family="Arial" font-size="14.00">created_at</text>
<polygon fill="none" stroke="black" points="171.64,-469.2 171.64,-685.6 378.12,-685.6 378.12,-469.2 171.64,-469.2"/>
</g>
<!-- school&#45;&gt;user -->
<g id="edge2" class="edge">
<title>school&#45;&gt;user</title>
<path fill="none" stroke="#0b8f6c" stroke-width="1.1" stroke-dasharray="5,2" d="M275.3,-785.53C275.3,-785.53 275.3,-694.25 275.3,-694.25"/>
<polygon fill="#0b8f6c" stroke="#0b8f6c" stroke-width="1.1" points="277.75,-694.25 275.3,-687.25 272.85,-694.25 277.75,-694.25"/>
</g>
<!-- record -->
<g id="node7" class="node">
<title>record</title>
<polygon fill="#c084fc" stroke="none" points="493.21,-269 493.21,-295.8 864.16,-295.8 864.16,-269 493.21,-269"/>
<text xml:space="preserve" text-anchor="start" x="569.38" y="-279.2" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">immunization_vaccinationrecord</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-251.4" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-224.6" font-family="Arial" font-size="14.00">FK student_id</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-197.8" font-family="Arial" font-size="14.00">FK vaccine_id</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-171" font-family="Arial" font-size="14.00">dose_number</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-144.2" font-family="Arial" font-size="14.00">application_date</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-117.4" font-family="Arial" font-size="14.00">source (INFORMADO_ESCOLA/CONFIRMADO_SAUDE)</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-90.6" font-family="Arial" font-size="14.00">notes</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-63.8" font-family="Arial" font-size="14.00">created_at / updated_at</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-37" font-family="Arial" font-size="14.00">created_by_id / updated_by_id</text>
<text xml:space="preserve" text-anchor="start" x="498.21" y="-11.2" font-family="Arial" font-weight="bold" font-size="14.00">UNIQUE(student_id, vaccine_id, dose_number)</text>
<polygon fill="none" stroke="black" points="492.21,0 492.21,-296.8 865.16,-296.8 865.16,0 492.21,0"/>
</g>
<!-- student&#45;&gt;record -->
<g id="edge5" class="edge">
<title>student&#45;&gt;record</title>
<path fill="none" stroke="#1d4ed8" stroke-width="1.1" d="M388.97,-216.13C388.97,-216.13 483.62,-216.13 483.62,-216.13"/>
<polygon fill="#1d4ed8" stroke="#1d4ed8" stroke-width="1.1" points="483.62,-218.58 490.62,-216.13 483.62,-213.68 483.62,-218.58"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-202.6" font-family="Times,serif" font-size="14.00" fill="#1d4ed8">1:N</text>
</g>
<!-- pref -->
<g id="node8" class="node">
<title>pref</title>
<polygon fill="#b45309" stroke="none" points="568.25,-667.6 568.25,-694.4 789.12,-694.4 789.12,-667.6 568.25,-667.6"/>
<text xml:space="preserve" text-anchor="start" x="573.25" y="-677.8" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">analytics_dashboardpreference</text>
<text xml:space="preserve" text-anchor="start" x="573.25" y="-650" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="573.25" y="-623.2" font-family="Arial" font-size="14.00">FK user_id (one&#45;to&#45;one)</text>
<text xml:space="preserve" text-anchor="start" x="573.25" y="-596.4" font-family="Arial" font-size="14.00">age_buckets_json</text>
<text xml:space="preserve" text-anchor="start" x="573.25" y="-569.6" font-family="Arial" font-size="14.00">updated_at</text>
<polygon fill="none" stroke="black" points="567.25,-559.4 567.25,-695.4 790.12,-695.4 790.12,-559.4 567.25,-559.4"/>
</g>
<!-- user&#45;&gt;pref -->
<g id="edge7" class="edge">
<title>user&#45;&gt;pref</title>
<path fill="none" stroke="#b45309" stroke-width="1.1" d="M378.08,-601.47C378.08,-601.47 558.9,-601.47 558.9,-601.47"/>
<polygon fill="#b45309" stroke="#b45309" stroke-width="1.1" points="558.9,-603.92 565.9,-601.47 558.9,-599.02 558.9,-603.92"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-631.6" font-family="Times,serif" font-size="14.00" fill="#b45309">1:1</text>
</g>
<!-- audit -->
<g id="node9" class="node">
<title>audit</title>
<polygon fill="#0ea5e9" stroke="none" points="583.41,-482 583.41,-508.8 773.96,-508.8 773.96,-482 583.41,-482"/>
<text xml:space="preserve" text-anchor="start" x="630.85" y="-492.2" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">audit_auditlog</text>
<text xml:space="preserve" text-anchor="start" x="588.41" y="-464.4" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="588.41" y="-437.6" font-family="Arial" font-size="14.00">FK actor_id (nullable)</text>
<text xml:space="preserve" text-anchor="start" x="588.41" y="-410.8" font-family="Arial" font-size="14.00">action / entity_type / entity_id</text>
<text xml:space="preserve" text-anchor="start" x="588.41" y="-384" font-family="Arial" font-size="14.00">timestamp</text>
<text xml:space="preserve" text-anchor="start" x="588.41" y="-357.2" font-family="Arial" font-size="14.00">details_json</text>
<polygon fill="none" stroke="black" points="582.41,-347 582.41,-509.8 774.96,-509.8 774.96,-347 582.41,-347"/>
</g>
<!-- user&#45;&gt;audit -->
<g id="edge8" class="edge">
<title>user&#45;&gt;audit</title>
<path fill="none" stroke="#0ea5e9" stroke-width="1.1" d="M378.08,-489.5C378.08,-489.5 573.98,-489.5 573.98,-489.5"/>
<polygon fill="#0ea5e9" stroke="#0ea5e9" stroke-width="1.1" points="573.98,-491.95 580.98,-489.5 573.98,-487.05 573.98,-491.95"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-432.6" font-family="Times,serif" font-size="14.00" fill="#0ea5e9">1:N</text>
</g>
<!-- errlog -->
<g id="node10" class="node">
<title>errlog</title>
<polygon fill="#0284c7" stroke="none" points="587.29,-1516.4 587.29,-1543.2 770.07,-1543.2 770.07,-1516.4 587.29,-1516.4"/>
<text xml:space="preserve" text-anchor="start" x="631.23" y="-1526.6" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">audit_errorlog</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1498.8" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1472" font-family="Arial" font-size="14.00">FK actor_id (nullable)</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1445.2" font-family="Arial" font-size="14.00">method / path / status_code</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1418.4" font-family="Arial" font-size="14.00">message / trace_id</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1391.6" font-family="Arial" font-size="14.00">details_json</text>
<text xml:space="preserve" text-anchor="start" x="592.29" y="-1364.8" font-family="Arial" font-size="14.00">timestamp</text>
<polygon fill="none" stroke="black" points="586.29,-1354.6 586.29,-1544.2 771.07,-1544.2 771.07,-1354.6 586.29,-1354.6"/>
</g>
<!-- user&#45;&gt;errlog -->
<g id="edge9" class="edge">
<title>user&#45;&gt;errlog</title>
<path fill="none" stroke="#0284c7" stroke-width="1.1" d="M378.01,-643.53C416.62,-643.53 451.3,-643.53 451.3,-643.53 451.3,-643.53 451.3,-1449.4 451.3,-1449.4 451.3,-1449.4 577.86,-1449.4 577.86,-1449.4"/>
<polygon fill="#0284c7" stroke="#0284c7" stroke-width="1.1" points="577.86,-1451.85 584.86,-1449.4 577.86,-1446.95 577.86,-1451.85"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-1453.6" font-family="Times,serif" font-size="14.00" fill="#0284c7">1:N</text>
</g>
<!-- vaccine -->
<g id="node4" class="node">
<title>vaccine</title>
<polygon fill="#7c3aed" stroke="none" points="598.99,-1675.2 598.99,-1702 758.37,-1702 758.37,-1675.2 598.99,-1675.2"/>
<text xml:space="preserve" text-anchor="start" x="603.99" y="-1685.4" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">immunization_vaccine</text>
<text xml:space="preserve" text-anchor="start" x="603.99" y="-1657.6" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="603.99" y="-1630.8" font-family="Arial" font-size="14.00">code (unique)</text>
<text xml:space="preserve" text-anchor="start" x="603.99" y="-1604" font-family="Arial" font-size="14.00">name</text>
<polygon fill="none" stroke="black" points="597.99,-1593.8 597.99,-1703 759.37,-1703 759.37,-1593.8 597.99,-1593.8"/>
</g>
<!-- rule -->
<g id="node6" class="node">
<title>rule</title>
<polygon fill="#a855f7" stroke="none" points="483.07,-987.6 483.07,-1014.4 874.3,-1014.4 874.3,-987.6 483.07,-987.6"/>
<text xml:space="preserve" text-anchor="start" x="574.82" y="-997.8" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">immunization_vaccinedoserule</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-970" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-943.2" font-family="Arial" font-size="14.00">FK schedule_version_id</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-916.4" font-family="Arial" font-size="14.00">FK vaccine_id</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-889.6" font-family="Arial" font-size="14.00">dose_number</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-862.8" font-family="Arial" font-size="14.00">recommended_min_age_months</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-836" font-family="Arial" font-size="14.00">recommended_max_age_months</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-809.2" font-family="Arial" font-size="14.00">created_at / updated_at</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-782.4" font-family="Arial" font-size="14.00">created_by_id / updated_by_id</text>
<text xml:space="preserve" text-anchor="start" x="488.07" y="-756.6" font-family="Arial" font-weight="bold" font-size="14.00">UNIQUE(schedule_version_id, vaccine_id, dose_number)</text>
<polygon fill="none" stroke="black" points="482.07,-745.4 482.07,-1015.4 875.3,-1015.4 875.3,-745.4 482.07,-745.4"/>
</g>
<!-- vaccine&#45;&gt;rule -->
<g id="edge4" class="edge">
<title>vaccine&#45;&gt;rule</title>
<path fill="none" stroke="#7c3aed" stroke-width="1.1" d="M759.09,-1648.4C796.26,-1648.4 832.3,-1648.4 832.3,-1648.4 832.3,-1648.4 832.3,-1023.72 832.3,-1023.72"/>
<polygon fill="#7c3aed" stroke="#7c3aed" stroke-width="1.1" points="834.75,-1023.72 832.3,-1016.72 829.85,-1023.72 834.75,-1023.72"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-1503.2" font-family="Times,serif" font-size="14.00" fill="#7c3aed">1:N</text>
</g>
<!-- vaccine&#45;&gt;record -->
<g id="edge6" class="edge">
<title>vaccine&#45;&gt;record</title>
<path fill="none" stroke="#7c3aed" stroke-width="1.1" d="M598.35,-1648.4C522.5,-1648.4 420.3,-1648.4 420.3,-1648.4 420.3,-1648.4 420.3,-256.47 420.3,-256.47 420.3,-256.47 483.61,-256.47 483.61,-256.47"/>
<polygon fill="#7c3aed" stroke="#7c3aed" stroke-width="1.1" points="483.61,-258.92 490.61,-256.47 483.61,-254.02 483.61,-258.92"/>
<text xml:space="preserve" text-anchor="middle" x="435.57" y="-1018.2" font-family="Times,serif" font-size="14.00" fill="#7c3aed">1:N</text>
</g>
<!-- schedule -->
<g id="node5" class="node">
<title>schedule</title>
<polygon fill="#9333ea" stroke="none" points="543.75,-1276.4 543.75,-1303.2 813.62,-1303.2 813.62,-1276.4 543.75,-1276.4"/>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1286.6" font-family="Arial" font-weight="bold" font-size="14.00" fill="white">immunization_vaccinescheduleversion</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1258.8" font-family="Arial" font-size="14.00">PK id</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1232" font-family="Arial" font-size="14.00">code (unique)</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1205.2" font-family="Arial" font-size="14.00">name</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1178.4" font-family="Arial" font-size="14.00">is_active</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1151.6" font-family="Arial" font-size="14.00">created_at</text>
<text xml:space="preserve" text-anchor="start" x="548.75" y="-1124.8" font-family="Arial" font-size="14.00">created_by_id / updated_by_id</text>
<polygon fill="none" stroke="black" points="542.75,-1114.6 542.75,-1304.2 814.62,-1304.2 814.62,-1114.6 542.75,-1114.6"/>
</g>
<!-- schedule&#45;&gt;rule -->
<g id="edge3" class="edge">
<title>schedule&#45;&gt;rule</title>
<path fill="none" stroke="#9333ea" stroke-width="1.1" d="M678.3,-1114.68C678.3,-1114.68 678.3,-1023.79 678.3,-1023.79"/>
<polygon fill="#9333ea" stroke="#9333ea" stroke-width="1.1" points="680.75,-1023.79 678.3,-1016.79 675.85,-1023.79 680.75,-1023.79"/>
</g>
<!-- note -->
<g id="node11" class="node">
<title>note</title>
<polygon fill="none" stroke="#94a3b8" points="844.87,-1811.6 506.49,-1811.6 506.49,-1753.2 850.87,-1753.2 850.87,-1805.6 844.87,-1811.6"/>
<polyline fill="none" stroke="#94a3b8" points="844.87,-1811.6 844.87,-1805.6"/>
<polyline fill="none" stroke="#94a3b8" points="850.87,-1805.6 844.87,-1805.6"/>
<text xml:space="preserve" text-anchor="middle" x="678.68" y="-1795" font-family="Arial" font-size="14.00" fill="#334155">Obs.: campos created_by_id e updated_by_id</text>
<text xml:space="preserve" text-anchor="middle" x="678.68" y="-1778.2" font-family="Arial" font-size="14.00" fill="#334155">referenciam accounts_user em varias tabelas.</text>
<text xml:space="preserve" text-anchor="middle" x="678.68" y="-1761.4" font-family="Arial" font-size="14.00" fill="#334155">Essas setas foram omitidas para manter legibilidade.</text>
</g>
</g>
</svg>
